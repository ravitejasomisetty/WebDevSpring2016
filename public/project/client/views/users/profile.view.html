<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile</title>
</head>
<body ng-controller="ProfileController">

<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
    <h1 class="page-header">Profile</h1>

    <div class="panel panel-default" ng-show="model.activeUser.rentername">
        <div class="panel panel-body">
            <div class="col-md-6"><img ng-src="../project/client/images/userimage.jpg"
                                       title="{{user.firstName}}">
            </div>
            <div class="col-md-6 approveUsersList">
                <dl class="dl-horizontal">
                    <dt>Full Name</dt>
                    <dd><input type="text" ng-model="userInfo.fullname" class="form-control"
                               ng-value="model.activeUser.firstName"></dd>
                    <dt>BirthDate</dt>
                    <dd ng-if="model.activeUser.birthdate">{{model.activeUser.birthdate | date:'MM/dd/yyyy'}}</dd>
                    <dd ng-hide="model.activeUser.birthdate"><input type="date" ng-model="model.activeUser.birthdate"
                                                                    class="form-control"></dd>
                    <dt>Email</dt>
                    <dd><input type="email" ng-model="model.activeUser.email" class="form-control"></dd>
                    <dt>DrivingLicense#</dt>
                    <dd ng-if="model.activeUser.licenseNumber">{{model.activeUser.licenseNumber}}</dd>
                    <dd ng-hide="model.activeUser.licenseNumber"><input type="text"
                                                                        ng-model="model.activeUser.licenseNumber"
                                                                        class="form-control"></dd>
                    <dt>Country Issued</dt>
                    <dd ng-if="model.activeUser.licenseCountry">{{model.activeUser.licenseCountry}}</dd>
                    <dd ng-hide="model.activeUser.licenseCountry"><input type="text"
                                                                         ng-model="model.activeUser.licenseCountry"
                                                                         class="form-control"></dd>
                    <dt>Status</dt>
                    <dd>{{model.activeUser.status}}</dd>
                </dl>
            </div>
            <div class="row text-nowrap">
                <div class="pull-left">
                    <button type="submit" ng-click="model.update(userInfo)" class="btn btn-warning"
                            title="Update info">Update
                    </button>
                </div>
                <div class="pull-right"><a href="">Change password?</a></div>
            </div>
        </div>
    </div>
    <div class="panel panel-default" ng-show="model.activeUser.username">
        <div class="panel panel-body">
            <div class="col-md-6"><img ng-src="../project/client/images/userimage.jpg"
                                       title="{{model.user.firstName}}">
            </div>
            <div class="col-md-6 approveUsersList">
                <dl class="dl-horizontal">
                    <dt>Name</dt>
                    <dd>{{model.user.firstName}} {{model.user.lastName}}</dd>
                    <dt>BirthDate</dt>
                    <dd>{{model.user.birthdate | date:'MM/dd/yyyy'}}</dd>
                    <dt>Email</dt>
                    <dd>{{model.user.email}}</dd>
                    <dt>DrivingLicense#</dt>
                    <dd>{{model.user.licenseNumber}}</dd>
                    <dt>Issued</dt>
                    <dd>{{model.user.licenseCountry}}</dd>
                    <dt>Status</dt>
                    <dd>{{model.user.status}}</dd>
                </dl>
            </div>
        </div>
    </div>
    <hr/>
    <h3 class="page-header">Reservations</h3>
    <label ng-if="model.reservations.length==0">No history found</label>
    <div class="table-responsive hidden-xs" ng-if="model.reservations.length>0">
        <table class="table table-hover">
            <tr class="text-nowrap">
                <th>PlateNumber</th>
                <th>Pick up Date</th>
                <th>Return Date</th>
                <th>Reservation Date</th>
                <th>Rent info</th>
            </tr>
            <tr ng-repeat="reservation in model.reservations" ng-class="model.rowStatus(reservation)">
                <td>{{reservation.platenumber}}</td>
                <td>{{reservation.pickupdate}}</td>
                <td>{{reservation.returndate}}</td>
                <td>{{reservation.reservationdate}}</td>
                <td>
                    <button ng-click="model.open('/myReservations/'+reservation.rentid)" class="btn btn-success"
                            title="Click to view details">
                        <span class="glyphicon glyphicon-new-window"></span> {{reservation.status}}
                    </button>
                </td>
            </tr>
        </table>
    </div>
</div>

</body>
</html>